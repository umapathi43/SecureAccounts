<section id="tooltip-validation">
  <div class="row">
    <div class="col-12">
      <div class="card">

        <div class="card-content">
          <div class="card-body">
            <form
              class="needs-validation"
              #userForm="ngForm"
              (ngSubmit)="userForm.form.valid && onSubmit(userForm)"
            >
              <div class="form-row">
                <div class="col-md-2 mb-1 form-group">
                  <label for="validationTooltip01">Supplier Name</label>
                  <input
                    type="text"
                    name="fname"
                    class="form-control round"
                    id="validationTooltip01"
                    [(ngModel)]="model.sname"
                    #fname="ngModel"
                    [ngClass]="{
                      'is-invalid': userForm.submitted && fname.invalid,
                      'is-valid': userForm.submitted && !fname.invalid
                    }"
                    required
                  />
                  <div
                    *ngIf="userForm.submitted && !fname.errors?.required"
                    class="valid-tooltip"
                  >
                    Looks good!
                  </div>
                </div>
                <div class="col-md-2 mb-1 form-group">
                  <label for="validationTooltip02">Supplier Address</label>
                  <input
                    type="text"
                    name="lname"
                    class="form-control round"
                    id="validationTooltip02"
                    [(ngModel)]="model.saddress"
                    #lname="ngModel"
                    [ngClass]="{
                      'is-invalid': userForm.submitted && lname.invalid,
                      'is-valid': userForm.submitted && !lname.invalid
                    }"
                    required
                  />
                  <div
                    *ngIf="userForm.submitted && !lname.errors?.required"
                    class="valid-tooltip"
                  >
                    Looks good!
                  </div>
                </div>
                <div class="col-md-2 mb-1 form-group">
                  <label for="validationTooltip03">GST No</label>
                  <input
                    type="text"
                    name="city"
                    class="form-control round"
                    [(ngModel)]="model.GSTNo"
                    #city="ngModel"
                    [ngClass]="{
                      'is-invalid': userForm.submitted && city.invalid,
                      'is-valid': userForm.submitted && !city.invalid
                    }"
                    required
                  />
                  <div
                    *ngIf="
                      userForm.submitted &&
                      (city.invalid || city.errors?.required)
                    "
                    class="invalid-tooltip"
                  >
                    Please provide a valid city.
                  </div>
                </div>
                <div class="col-md-2 mb-1 form-group">
                  <label for="validationTooltip03">Mobile No</label>
                  <input
                    type="text"
                    name="city"
                    class="form-control round"
                    [(ngModel)]="model.MobileNo"
                    #city="ngModel"
                    [ngClass]="{
                      'is-invalid': userForm.submitted && city.invalid,
                      'is-valid': userForm.submitted && !city.invalid
                    }"
                    required
                  />
                  <div
                    *ngIf="
                      userForm.submitted &&
                      (city.invalid || city.errors?.required)
                    "
                    class="invalid-tooltip"
                  >
                    Please provide a valid city.
                  </div>
                </div>
                <div class="col-md-2 mb-1 form-group">
                  <label for="validationTooltip03">Invoice Date</label>
                  <input
                    type="text"
                    name="city"
                    class="form-control round"
                    [(ngModel)]="model.MobileNo"
                    #city="ngModel"
                    [ngClass]="{
                      'is-invalid': userForm.submitted && city.invalid,
                      'is-valid': userForm.submitted && !city.invalid
                    }"
                    required
                  />
                  <div
                    *ngIf="
                      userForm.submitted &&
                      (city.invalid || city.errors?.required)
                    "
                    class="invalid-tooltip"
                  >
                    Please provide a valid city.
                  </div>
                </div>
                <div class="col-md-2 mb-1 form-group">
                  <label for="validationTooltip03">Entry Date</label>
                  <input
                    type="text"
                    name="city"
                    class="form-control round"
                    [(ngModel)]="model.MobileNo"
                    #city="ngModel"
                    [ngClass]="{
                      'is-invalid': userForm.submitted && city.invalid,
                      'is-valid': userForm.submitted && !city.invalid
                    }"
                    required
                  />
                  <div
                    *ngIf="
                      userForm.submitted &&
                      (city.invalid || city.errors?.required)
                    "
                    class="invalid-tooltip"
                  >
                    Please provide a valid city.
                  </div>
                </div>
                <div class="col-md-2 mb-1 form-group">
                  <label for="validationTooltip03">Discount %</label>
                  <input
                    type="text"
                    name="city"
                    class="form-control round"
                    [(ngModel)]="model.MobileNo"
                    #city="ngModel"
                    [ngClass]="{
                      'is-invalid': userForm.submitted && city.invalid,
                      'is-valid': userForm.submitted && !city.invalid
                    }"
                    required
                  />
                  <div
                    *ngIf="
                      userForm.submitted &&
                      (city.invalid || city.errors?.required)
                    "
                    class="invalid-tooltip"
                  >
                    Please provide a valid city.
                  </div>
                </div>
                <div class="col-md-2 mb-1 form-group">
                  <label for="validationTooltip03">Due Days</label>
                  <input
                    type="text"
                    name="city"
                    class="form-control round"
                    [(ngModel)]="model.MobileNo"
                    #city="ngModel"
                    [ngClass]="{
                      'is-invalid': userForm.submitted && city.invalid,
                      'is-valid': userForm.submitted && !city.invalid
                    }"
                    required
                  />
                  <div
                    *ngIf="
                      userForm.submitted &&
                      (city.invalid || city.errors?.required)
                    "
                    class="invalid-tooltip"
                  >
                    Please provide a valid city.
                  </div>
                </div>
                <div class="col-md-2 mb-1 form-group">
                  <label for="validationTooltip03">Due Date</label>
                  <input
                    type="text"
                    name="city"
                    class="form-control round"
                    [(ngModel)]="model.MobileNo"
                    #city="ngModel"
                    [ngClass]="{
                      'is-invalid': userForm.submitted && city.invalid,
                      'is-valid': userForm.submitted && !city.invalid
                    }"
                    required
                  />
                  <div
                    *ngIf="
                      userForm.submitted &&
                      (city.invalid || city.errors?.required)
                    "
                    class="invalid-tooltip"
                  >
                    Please provide a valid city.
                  </div>
                </div>
                <div class="col-md-2 mb-1 form-group">
                  <label for="validationTooltip03">SRT Margin %</label>
                  <input
                    type="text"
                    name="city"
                    class="form-control round"
                    [(ngModel)]="model.MobileNo"
                    #city="ngModel"
                    [ngClass]="{
                      'is-invalid': userForm.submitted && city.invalid,
                      'is-valid': userForm.submitted && !city.invalid
                    }"
                    required
                  />
                  <div
                    *ngIf="
                      userForm.submitted &&
                      (city.invalid || city.errors?.required)
                    "
                    class="invalid-tooltip"
                  >
                    Please provide a valid city.
                  </div>
                </div>
              </div>
              <button class="btn btn-primary mr-2" type="submit">
                Import from CSV
              </button>
              <button class="btn btn-primary" type="submit">Load PO</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section id="tooltip-validation">
  <div class="row">
    <div class="col-12">
      <div class="card" *ngFor="let item of Items; let i = index">

        <div class="card-content">
          <div class="card-body">
            <form
              class="needs-validation"
              #userForm="ngForm"
              (ngSubmit)="userForm.form.valid && onSubmit(userForm)"
            >
              <div class="form-row">
                <div class="col-md-6">
                  <h4>Item {{ i + 1 }}</h4>
                </div>
                <div class="col-md-6 text-right">
                  <button
                    type="button"
                    class="btn btn-primary btn-sm mr-2"
                    (click)="DisplayFileds(i)"
                  >
                    View More
                  </button>
                  <button
                    *ngIf="i != Items.length - 1 || Items.length > 1"
                    type="button"
                    class="btn btn-danger btn-sm"
                    (click)="removeItem(i)"
                  >
                    Remove
                  </button>
                </div>

                <div class="col-md-2 mb-1 form-group">
                  <label for="validationTooltip01">Item Name</label>
                  <input
                    type="text"
                    class="form-control round"
                    [(ngModel)]="item.name"
                    name="name{{ i }}"
                  />
                </div>
                <div class="col-md-2 mb-1 form-group">
                  <label for="validationTooltip02">Batch</label>
                  <input
                    type="text"
                    class="form-control round"
                    [(ngModel)]="item.batch"
                    name="batch{{ i }}"
                  />
                </div>
                <div class="col-md-2 mb-1 form-group">
                  <label for="validationTooltip03">Expiry Date</label>
                  <input
                    type="text"
                    class="form-control round"
                    [(ngModel)]="item.expiryDate"
                    name="expiryDate{{ i }}"
                    required
                  />
                </div>
                <div class="col-md-2 mb-1 form-group">
                  <label for="validationTooltip03">Mfg Date</label>
                  <input
                    type="text"
                    class="form-control round"
                    [(ngModel)]="item.mfgDate"
                    name="mfgDate{{ i }}"
                    required
                  />
                </div>
                <div class="col-md-2 mb-1 form-group">
                  <label for="validationTooltip03">Best Before</label>
                  <select
                    id="basic-form-6"
                    [(ngModel)]="item.bestBefore"
                    name="bestBefore{{ i }}"
                    required
                    class="form-control round"
                  >
                    <option value="none" selected disabled>
                      Interested in
                    </option>
                    <option value="design">Design</option>
                    <option value="development">Development</option>
                    <option value="illustration">Illustration</option>
                    <option value="branding">Branding</option>
                    <option value="video">Video</option>
                  </select>
                </div>
                <div class="col-md-2 mb-1 form-group">
                  <label for="validationTooltip03">QTY</label>
                  <input
                    type="text"
                    class="form-control round"
                    [(ngModel)]="item.qty"
                    name="qty{{ i }}"
                    required
                  />
                </div>
                <ng-container *ngIf="showFields == i">
                  <div class="col-md-2 mb-1 form-group">
                    <label for="validationTooltip03">Free QTY</label>
                    <input
                      type="text"
                      class="form-control round"
                      [(ngModel)]="item.freeQty"
                      name="freeQty{{ i }}"
                      required
                    />
                  </div>
                  <div class="col-md-2 mb-1 form-group">
                    <label for="validationTooltip03">MRP</label>
                    <input
                      type="text"
                      name="city"
                      class="form-control round"
                      [(ngModel)]="item.mrp"
                      name="mrp{{ i }}"
                      required
                    />
                  </div>
                  <div class="col-md-2 mb-1 form-group">
                    <label for="validationTooltip03">Purchase Date</label>
                    <input
                      type="text"
                      class="form-control round"
                      [(ngModel)]="item.purchaseDate"
                      name="purchaseDate{{ i }}"
                      required
                    />
                  </div>
                  <div class="col-md-2 mb-1 form-group">
                    <label for="validationTooltip03">Discount %</label>
                    <input
                      type="text"
                      name="city"
                      class="form-control round"
                      [(ngModel)]="item.discount"
                      name="discount{{ i }}"
                      required
                    />
                  </div>
                  <div class="col-md-2 mb-1 form-group">
                    <label for="validationTooltip03"> Disc Amt</label>
                    <input
                      type="text"
                      class="form-control round"
                      [(ngModel)]="item.discAmount"
                      name="discAmount{{ i }}"
                      required
                    />
                  </div>
                  <div class="col-md-2 mb-1 form-group">
                    <label for="validationTooltip03">SCH Disc Amt</label>
                    <input
                      type="text"
                      class="form-control round"
                      [(ngModel)]="item.schdiscAmount"
                      name="schdiscAmount{{ i }}"
                      required
                    />
                  </div>
                  <div class="col-md-2 mb-1 form-group">
                    <label for="validationTooltip03">GST %</label>
                    <input
                      type="text"
                      class="form-control round"
                      [(ngModel)]="item.gst"
                      name="gst{{ i }}"
                      required
                    />
                  </div>
                  <div class="col-md-2 mb-1 form-group">
                    <label for="validationTooltip03">Tax Amount</label>
                    <input
                      type="text"
                      class="form-control round"
                      [(ngModel)]="item.taxAmount"
                      name="taxAmount{{ i }}"
                      required
                    />
                  </div>
                  <div class="col-md-2 mb-1 form-group">
                    <label for="validationTooltip03">QPK</label>
                    <input
                      type="text"
                      class="form-control round"
                      [(ngModel)]="item.qpk"
                      name="qpk{{ i }}"
                      required
                    />
                  </div>
                  <div class="col-md-2 mb-1 form-group">
                    <label for="validationTooltip03">SRT</label>
                    <input
                      type="text"
                      class="form-control round"
                      [(ngModel)]="item.srt"
                      name="srt{{ i }}"
                      required
                    />
                  </div>
                  <div class="col-md-2 mb-1 form-group">
                    <label for="validationTooltip03">Gross Amt</label>
                    <input
                      type="text"
                      class="form-control round"
                      [(ngModel)]="item.grossAmt"
                      name="grossAmt{{ i }}"
                      required
                    />
                  </div>
                  <div class="col-md-2 mb-1 form-group">
                    <label for="validationTooltip03">net Amt</label>
                    <input
                      type="text"
                      class="form-control round"
                      [(ngModel)]="item.netAmt"
                      (keydown.Tab)="addItem()"
                      name="netAmt{{ i }}"
                      required
                    />
                  </div>
                </ng-container>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section id="basic-form-layouts">
  <div class="row match-height">
    <!-- Basic Form starts -->
    <div class="col-lg-6 col-12">
      <div class="card">
      
        <div class="card-content">
          <div class="card-body">
            <ngx-datatable
              #tableRowDetails
              class="bootstrap core-bootstrap"
              [columnMode]="ColumnMode.force"
              [footerHeight]="50"
              rowHeight="auto"
              [limit]="10"
              [rows]="rows"
              [columns]="columns"
            >
              <ngx-datatable-row-detail rowHeight="auto">
                <ng-template
                  let-row="row"
                  let-expanded="expanded"
                  ngx-datatable-row-detail-template
                >
                  <div class="ml-5 my-1">
                    <div><strong>Qty : </strong> {{ row.qty }}</div>
                    <div><strong>schemeQty : </strong> {{ row.schemeQty }}</div>
                    <div><strong>discount :</strong> {{ row.discount }}</div>
                    <div><strong>billDate :</strong> {{ row.billDate }}</div>
                  </div>
                </ng-template>
              </ngx-datatable-row-detail>
              <ngx-datatable-column
                [width]="50"
                [resizeable]="false"
                [sortable]="false"
                [draggable]="false"
                [canAutoResize]="false"
              >
                <ng-template
                  let-row="row"
                  let-expanded="expanded"
                  ngx-datatable-cell-template
                >
                  <a
                    href="javascript:void(0)"
                    [class.datatable-icon-right]="!expanded"
                    [class.datatable-icon-down]="expanded"
                    title="Expand/Collapse Row"
                    (click)="rowDetailsToggleExpand(row)"
                  >
                  </a>
                </ng-template>
              </ngx-datatable-column>

              <ngx-datatable-column
                name="itemName"
                prop="itemName"
                [width]="150"
              >
              </ngx-datatable-column>
              <ngx-datatable-column
                name="supplierName"
                prop="supplierName"
                [width]="150"
              ></ngx-datatable-column>
              <ngx-datatable-column
                name="purchaseRate"
                prop="purchaseRate"
                [width]="120"
              ></ngx-datatable-column>
            </ngx-datatable>
          </div>
        </div>
      </div>
    </div>
    <!-- Basic Form ends -->
    <!-- Hidden Label starts -->
    <div class="col-lg-6 col-12">
      <div class="card">

        <div class="card-content">
          <div class="card-body">
            <form>
              <div class="form-row">
                <div class="col-md-4 form-group">
                  <label for="form-1">Gross Amount</label>
                  <input
                    type="text"
                    id="form-1"
                    class="form-control round"
                    name="cname"
                  />
                </div>
                <div class="col-md-4 form-group">
                  <label for="form-2">Disc Amount</label>
                  <input
                    type="text"
                    id="form-2"
                    class="form-control round"
                    name="ename"
                  />
                </div>
                <div class="col-md-4 form-group">
                  <label for="form-3">No Of Items</label>
                  <input
                    type="number"
                    id="form-3"
                    class="form-control round"
                    name="eid"
                  />
                </div>
                <div class="col-md-4 form-group position-relative">
                  <label for="form-4">Date</label>
                  <input
                    type="text"
                    id="form-4"
                    class="form-control pickadate round"
                  />
                </div>
                <div class="col-md-4 form-group">
                  <label for="form-5">GST Amount</label>
                  <input
                    type="text"
                    id="form-5"
                    class="form-control round"
                    name="sname"
                  />
                </div>

                <div class="col-md-4 form-group">
                  <label for="form-7">Round Off Amount</label>
                  <input
                    type="text"
                    id="form-7"
                    class="form-control round"
                    name="sign"
                  />
                </div>
              </div>
              <button type="button" class="btn btn-primary mr-2">
                <i class="ft-check-square mr-1"></i>Save
              </button>
              <button type="button" class="btn btn-secondary">
                <i class="ft-x mr-1"></i>Cancel
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>
    <!-- Hidden Label ends -->
  </div>
</section>
